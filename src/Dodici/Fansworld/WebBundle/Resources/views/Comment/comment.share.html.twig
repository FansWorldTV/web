{% extends 'DodiciFansworldWebBundle:Comment:comment.base.html.twig' %}

{% if comment.share.comment is not null %}
	{% set tag_item = comment.share.comment %}
	{% set tag_item_url = path("comment_show", {'id': tag_item.id }) %}
	{% set tag_item_type = 'comment' %}		
{% elseif comment.share.album is not null %}
	{% set tag_item = comment.share.album %}
	{% set tag_item_url = path("album_show", {'id': tag_item.id, 'slug': tag_item.slug }) %}
	{% set tag_item_type = 'album' %}
{% elseif comment.share.photo is not null %}
	{% set tag_item = comment.share.photo %} 
	{% set tag_item_url = path("photo_show", {'id': tag_item.id, 'slug': tag_item.slug }) %}
	{% set tag_item_type = 'photo' %}
{% elseif comment.share.video is not null %}
	{% set tag_item = comment.share.video %} 
	{% set tag_item_url = path("video_show", {'id': tag_item.id, 'slug': tag_item.slug }) %}
	{% set tag_item_type = 'video' %}
{% elseif comment.share.contest is not null %}
	{% set tag_item = comment.share.contest %} 
	{% set tag_item_url = path("contest_show", {'id': tag_item.id, 'slug': tag_item.slug })%}
	{% set tag_item_type = 'contest' %}	
{% elseif comment.share.newspost is not null %}
	{% set tag_item = comment.share.newspost %} 
	{% set tag_item_url = path("newspost_show", {'id': tag_item.id, 'slug': tag_item.slug }) %}
	{% set tag_item_type = 'newspost' %}	
{% endif %}

{% block avatar %}
	{% set image = comment.author.image %}
	{{ parent() }}
{% endblock %}

{% block action %}
	<span class="action_user">
		<a href="{{ path('user_detail', {'id': comment.author.id }) }}">{{ comment.author }}</a> 
		{{ ('shared_' ~ tag_item_type)|trans }}
		{% if comment.share.author is not null and comment.author.id != comment.share.author.id %}
		{{ 'by'|trans }} <a href="{{ path('user_detail', {'id': comment.share.author.id }) }}">{{ comment.share.author }}</a>
		{% endif %}
	</span>
{% endblock %}

{% block title %}
	<span class="title">
		<a href="{{ tag_item_url }}">{{ tag_item }}</a>
	</span>
{% endblock %}
{% block description %}
	{% if tag_item.image is defined and tag_item.image is not null %}
		{% if tag_item_type == 'video' %}
			<div class="video">
				<span></span>
				{% thumbnail tag_item.image, 'wall' %}
			</div>
		{% else %}
			<div class="share-image">
				{% thumbnail tag_item.image, 'wall' %}
			</div>
		{% endif %}
	{% endif %}
{% endblock %}