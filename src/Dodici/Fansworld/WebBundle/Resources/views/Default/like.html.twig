{% set canlike = appstate.canlike(entity) %}
{% set candislike = appstate.candislike(entity) %}
{% if canlike or candislike %}
	{% set type = appstate.type(entity) %}
	{% if showcount is not defined %}
		{% set showcount = true %}
	{% endif %}
	<a class="likebutton{% if extraclasses is defined %} {{ extraclasses|join(' ') }}{% endif %}" data-id="{{ entity.id }}" data-type="{{ type }}">
		{% if canlike %}
			{{ 'like'|trans }}
		{% elseif candislike %}
			{{ 'unlike'|trans }}
		{% endif %}
	</a> 
	{% if entity.likecount is defined and showcount %}
		<span class="likecount">{{entity.likecount}}</span>
	{% endif %}
{% endif %}