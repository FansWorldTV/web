{% if carouselitems is not defined %}
    {% set carouselitems = null %}
{% endif %}    

{% if showCaption is not defined%}
    {% set showCaption = true %}
{% endif %}

{% if rightCaption is not defined%}
    {% set rightCaption = true %}
{% endif %}
    
{% block carousel %}
    <div id="myCarousel" class="carousel slide">
        <!-- Carousel items -->
        <div class="carousel-inner">
            {% if carouselitems|length > 0 %}
                {% for carouselitem in carouselitems %}
                    <div class="item {% if loop.first %} active {% endif %}" data-video='{{ carouselitem.id }}'>
                        {% thumbnail carouselitem.image, 'splash' %}
                        {% if showCaption %}
                            <div class="carousel-caption">
                                <h4>{% if carouselitem.title is defined %} {{ carouselitem.title }} {% endif %}</h4>
                                <p>{% if carouselitem.content is defined %} {{ carouselitem.content }} {% endif %}</p>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            {% endif %}
        </div>
        <!-- Carousel nav -->
        
        <div id="carousel-nav">
            {% if carouselitems|length > 0 %}
                {% for carouselitem in carouselitems %}
                    <a href="#myCarousel" data-to="{{ loop.index }}" class="{% if loop.first %} active {% endif %}"></a>
                {% endfor %}
            {% endif %}
		</div>
        <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
        <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
    </div>

    {% if rightCaption %}
        <div class="info-detail-carousel">
            {% if carouselitems|length > 0 %}
                {% for carouselitem in carouselitems %}
                    <div {% if loop.first %}class="active"{% endif %} data-video="{{ carouselitem.id }}">
                        <span>{{ appstate.type(carouselitem)|trans }}</span>
                        <h1>{{ carouselitem.title }}</h1>
                        <p>{{ carouselitem.content }}</p>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    {% endif %}

{% endblock %}