{% extends "DodiciFansworldWebBundle:User:profile_base.html.twig" %}

{% block title %}{{ parent() }} - {{ album.title }}{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/dodicifansworldweb/js/albums.js') }}" type="text/javascript"></script>
{% endblock %}

{% block profile_tabs %}
	{% set active_tab = 'photos' %}
	{{ parent() }}
{% endblock %}

{% block profile_head %}
	{{ parent() }}
	{% if (user == app.user) %}
            <div class="update clearfix"> 
                <span></span> 
                <div class="upd_option clearfix"> 
                    <a class="btn_picture btn_upload_photo" href="{{ path('photo_upload') }}">{{'load image'|trans}}</a> 
                </div>    
            </div>
        {% endif %} 
{% endblock %}

{% block inner_content %}
<div class="cont clearfix">
    <h2>{{ album.title }}<a class="more" href="{{ path('user_listalbums', {username: user.username}) }}">{{'view all albums'|trans}}</a></h2>
    <div class="user_album">
        <div class="mask">
            {% for photo in album.photos %}
	            {% if appstate.canview(photo) %}
	                <div class="pic">
	                    <a href="{{ path('photo_show', {'id': photo.id, 'slug': photo.slug}) }}">{% thumbnail photo.image, 'big' %}</a>
	                </div>
	            {% endif %}
            {% endfor %}
        </div>
    </div>
    {% include 'DodiciFansworldWebBundle:Default:share.html.twig' with {entity: album} %}
</div>
{% include 'DodiciFansworldWebBundle:Comment:comment_block.html.twig' with {entity: album} %}
    
    <script type="text/javascript">
        $(document).ready(function(){
            albums.init();
        });
    </script>
{% endblock %}
