<section class='channels-widget row-fluid'>
    <ul class="filter-channels clearfix">
        <li class="active" data-list-target="all"><a>Todos</a></li>
        {% for channel in channels %}
            <li data-list-target="{{ channel.channelName|lower|replace({' ': ""}) }}" data-channel-id="{{ channel.id }}"><a>{{ channel.channelName }}</a></li>
        {% endfor %}
    </ul>
    <div class="content tab-content">
        <div class="tab-pane active" id="all">
            <div class='videoplayer-container'>
                <a href="{{ path('video_show', {'id': videoDestacadoMain.id, 'slug': videoDestacadoMain.slug}) }}">
                    <i class="play-video"></i>
                </a>
                <div class="shadow"></div>
                <a href="{{ path('video_show', {'id': videoDestacadoMain.id, 'slug': videoDestacadoMain.slug}) }}">
                    <span class="video-title">{{ videoDestacadoMain.title }}</span>
                    <span class="highlight-text">{{ videoDestacadoMain.content }}</span>
                    {% thumbnail videoDestacadoMain.image, 'big' with {"title": videoDestacadoMain.title, 'class': 'video-thumb'}%}
                </a>
            </div>
            <div class="content-container highlighted-videos">
                {% set counter = 1 %}
                {% for video in videosDestacadosFW %}
                    {% if video.image is not null %}
                        <div class="video {% if counter == 3 %} last-element-row {% endif %}">
                            <a href="{{ path('video_show', {'id': video.id, 'slug': video.slug}) }}">
                                {% thumbnail video.image, 'huge_square' with {'class': 'thumb'} %}
                                <i class="play-video"></i>
                            </a>
                            <div class="title-and-user">
                                {% if video.author is not null %}
                                    {% if video.author.image is not null%}
                                        <a href="{{ path('user_wall', {'username': video.author.username}) }}">{% thumbnail video.author.image, 'small_square' with { 'rel': 'tooltip', 'class': 'author-image', 'title': video.author} %}</a>
                                    {% endif %}
                                {% endif %}
                                <a href="{{ path('video_show', {'id': video.id, 'slug': video.slug}) }}">
                                    <span class="title">{{ video.title }}</span>
                                </a>
                            </div>
                        </div>
                        {% set counter = counter+1 %}
                    {% endif %}
                {% endfor %}
            </div>
        </div>
        {% for channel in channels %}
            <div class="tab-pane" id="{{ channel.channelName|lower|replace({' ': ""}) }}">
                {% if channel.video is not null %}
                    {% if channel.video.image is defined %}
                        {% if channel.video.image is not null %}
                            <div class='videoplayer-container'>
                                <a href="{{ path('video_show', {'id': channel.video.id, 'slug': channel.video.slug}) }}">
                                    <i class="play-video"></i>
                                    {% thumbnail channel.video.image, 'big' with {"title": channel.video.title,'class': 'video-thumb'}%}
                                </a>
                            </div>
                        {% endif %}
                    {% endif %}

                    <div class="content-container">
                        <div class="channel-highlight-container">
                            <div class="channel-name">{{ channel.channelName }}</div>

                            <div class="title">{{ channel.video.title }}</div>
                            <div class="description">
                                {{ channel.video.content }}
                            </div>

                            <div class="explorar">
                                <a href="{{ path('teve_explorechannel', {id: channel.id, slug: channel.slug}) }}">Explorar &gt;</a>
                            </div>
                            <div class="subscribirse">
                                {% include 'DodiciFansworldWebBundle:Tv:blocks/button_subscribe.html.twig' with {channel: channel.channelEntity, 'large': true} %}
                            </div>
                        </div>
                    </div>
                {% else %}
                    -- Canal sin video --
                {% endif %}
            </div>
        {% endfor %}
    </div>
</section>
