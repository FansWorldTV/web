imports:
    - { resource: parameters.ini }
    - { resource: security.yml }

framework:
    #esi:             ~
    translator:      { fallback: %locale% }
    secret:          %secret%
    charset:         UTF-8
    router:          { resource: "%kernel.root_dir%/config/routing.yml" }
    form:            true
    csrf_protection: true
    validation:      { enable_annotations: true }
    templating:      { engines: ['twig'] } #assets_version: SomeVersionScheme
    session:
        default_locale: %locale%
        auto_start:     true

# Twig Configuration
twig:
    debug:            %kernel.debug%
    strict_variables: %kernel.debug%

# Assetic Configuration
assetic:
    debug:          %kernel.debug%
    use_controller: false
    # java: /usr/bin/java
    filters:
        cssrewrite: ~
        yui_css:
            jar: "%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar"
        yui_js:
            jar: "%kernel.root_dir%/Resources/java/yuicompressor-2.4.7.jar"
        # closure:
        #     jar: %kernel.root_dir%/java/compiler.jar

# Doctrine Configuration
doctrine:
    dbal:
        driver:   %database_driver%
        host:     %database_host%
        port:     %database_port%
        dbname:   %database_name%
        user:     %database_user%
        password: %database_password%
        charset:  UTF8

    orm:
        auto_generate_proxy_classes: %kernel.debug%
        auto_mapping: true

# Swiftmailer Configuration
swiftmailer:
    transport: %mailer_transport%
    host:      %mailer_host%
    username:  %mailer_user%
    password:  %mailer_password%
    port:      %mailer_port%

jms_security_extra:
    secure_controllers:  true
    secure_all_services: false
    
fos_user:
    db_driver: orm # other valid values are 'mongodb', 'couchdb' and 'propel'
    firewall_name: main
    user_class: Application\Sonata\UserBundle\Entity\User
    group:
        group_class: Application\Sonata\UserBundle\Entity\Group
    registration:
        form:
            type: app_user_registration
        confirmation:
            enabled:    true
    profile:
        form:
            type: app_user_profile
    from_email:
        address:        info@fansworld.tv
        sender_name:    Fansworld
    service:
        mailer:         fos_user.mailer.twig_swift
    
fos_js_routing:
    routes_to_expose: [ ^((?!_admin_).)*$ ]
    
sonata_user:
    security_acl: true
    
stof_doctrine_extensions:
    default_locale: es_ES
    translation_fallback: true
    orm:
        default:
            sluggable:      true
            translatable:   true

jms_i18n_routing:
    default_locale: es
    locales: [en, es]
    strategy: prefix_except_default
    
sonata_media:
    db_driver: doctrine_orm # or doctrine_mongodb
    default_context: default
    contexts:
        default:  # the default context is mandatory
            providers:
                - sonata.media.provider.dailymotion
                - sonata.media.provider.youtube
                - sonata.media.provider.image
                - sonata.media.provider.file

            formats:
                headeravatar: { width: 40 , height: 40 , quality: 70}
                avatar: { width: 50 , height: 50 , quality: 70}
                small: { width: 100 , quality: 70}
                small_square: { width: 100, height: 100 , quality: 75}
                mini_square: { width: 60, height: 60 , quality: 85}
                video: { width: 100, height: 75 , quality: 75}
                medium: { width: 250 , quality: 80}
                splash:   { width: 500 , height: 225, quality: 85}
                big:   { width: 500 , quality: 85, constraint: false}
                wall: { width: 800 , quality: 75, constraint: false }
                huge:   { width: 1024 , quality: 90, constraint: false}

    cdn:
        server:
            path: /uploads/media # http://media.sonata-project.org/

    filesystem:
        local:
            directory:  %kernel.root_dir%/../web/uploads/media
            create:     false
            
sonata_admin:
    title:      Fansworld
    title_logo: /bundles/dodicifansworldadmin/images/logo_title.png
    templates:
        layout:  DodiciFansworldAdminBundle::standard_layout.html.twig
        user_block: DodiciFansworldAdminBundle:Core:user_block.html.twig
    security:
        handler: sonata.admin.security.handler.role
        
fos_facebook:
    file:   %kernel.root_dir%/../vendor/facebook/src/base_facebook.php
    alias:  facebook
    app_id: %facebook.app_id%
    secret: %facebook.app_secret%
    cookie: true
    permissions: [email, user_birthday, user_location, publish_actions]
    
fos_twitter:
    file: %kernel.root_dir%/../vendor/twitteroauth/twitteroauth/twitteroauth.php
    consumer_key: %twitter.app_key%
    consumer_secret: %twitter.app_secret%
    
artseld_openinviter:
    username: "fansworld"
    private_key: "6c0b090b7bf71fa484ab40de80beb21a"
    plugins_cache_time: "1800"
    plugins_cache_file: "oi_plugins.php"
    cookie_path: "../web/uploads"
    local_debug: "on_error"
    remote_debug: ""
    hosted: ""
    proxies: []
    stats: ""
    stats_user: ""
    stats_password: ""
    update_files: "1"
    transport: "curl"

parameters:
    sonata.user.admin.user.class: Application\Sonata\UserBundle\Admin\Entity\UserAdmin
    sonata.media.resizer.simple.class: Application\Sonata\MediaBundle\Media\SimpleResizer
    sonata.media.thumbnail.format: Application\Sonata\MediaBundle\Thumbnail\FormatThumbnail
        
services:
    ### BEGIN ADMIN SERVICES ###
    dodici.fansworld.adminbundle.admin.country:
        class: Dodici\Fansworld\AdminBundle\Admin\CountryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: country }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Country, DodiciFansworldAdminBundle:CountryAdmin]
    dodici.fansworld.adminbundle.admin.city:
        class: Dodici\Fansworld\AdminBundle\Admin\CityAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: city }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\City, DodiciFansworldAdminBundle:CityAdmin]
    dodici.fansworld.adminbundle.admin.friendship:
        class: Dodici\Fansworld\AdminBundle\Admin\FriendshipAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: friendship }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Friendship, DodiciFansworldAdminBundle:FriendshipAdmin]
    dodici.fansworld.adminbundle.admin.newscategory:
        class: Dodici\Fansworld\AdminBundle\Admin\NewsCategoryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: newscategory }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\NewsCategory, DodiciFansworldAdminBundle:NewsCategoryAdmin]
    dodici.fansworld.adminbundle.admin.newspost:
        class: Dodici\Fansworld\AdminBundle\Admin\NewsPostAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: newspost }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\NewsPost, DodiciFansworldAdminBundle:NewsPostAdmin]
    dodici.fansworld.adminbundle.admin.video:
        class: Dodici\Fansworld\AdminBundle\Admin\VideoAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: video }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Video, DodiciFansworldAdminBundle:VideoAdmin]
    dodici.fansworld.adminbundle.admin.videocategory:
        class: Dodici\Fansworld\AdminBundle\Admin\VideoCategoryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: videocategory }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\VideoCategory, DodiciFansworldAdminBundle:VideoCategoryAdmin]
    dodici.fansworld.adminbundle.admin.comment:
        class: Dodici\Fansworld\AdminBundle\Admin\CommentAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: comment }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Comment, DodiciFansworldAdminBundle:CommentAdmin]
    dodici.fansworld.adminbundle.admin.photo:
        class: Dodici\Fansworld\AdminBundle\Admin\PhotoAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: photo }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Photo, DodiciFansworldAdminBundle:PhotoAdmin]
    dodici.fansworld.adminbundle.admin.album:
        class: Dodici\Fansworld\AdminBundle\Admin\AlbumAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: album }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Album, DodiciFansworldAdminBundle:AlbumAdmin]
    dodici.fansworld.adminbundle.admin.interestcategory:
        class: Dodici\Fansworld\AdminBundle\Admin\InterestCategoryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: interestcategory }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\InterestCategory, DodiciFansworldAdminBundle:InterestCategoryAdmin]
    dodici.fansworld.adminbundle.admin.interest:
        class: Dodici\Fansworld\AdminBundle\Admin\InterestAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: interest }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Interest, DodiciFansworldAdminBundle:InterestAdmin]
    dodici.fansworld.adminbundle.admin.contest:
        class: Dodici\Fansworld\AdminBundle\Admin\ContestAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: contest }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Contest, DodiciFansworldAdminBundle:ContestAdmin]
    dodici.fansworld.adminbundle.admin.contestparticipant:
        class: Dodici\Fansworld\AdminBundle\Admin\ContestParticipantAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: contestparticipant }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\ContestParticipant, DodiciFansworldAdminBundle:ContestParticipantAdmin]
    dodici.fansworld.adminbundle.admin.idolship:
        class: Dodici\Fansworld\AdminBundle\Admin\IdolshipAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: idolship }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Idolship, DodiciFansworldAdminBundle:IdolshipAdmin]
    dodici.fansworld.adminbundle.admin.idol:
        class: Dodici\Fansworld\AdminBundle\Admin\IdolAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: idol }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Idol, DodiciFansworldAdminBundle:IdolAdmin]
    dodici.fansworld.adminbundle.admin.level:
        class: Dodici\Fansworld\AdminBundle\Admin\LevelAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: level }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Level, DodiciFansworldAdminBundle:LevelAdmin]
    dodici.fansworld.adminbundle.admin.friendgroup:
        class: Dodici\Fansworld\AdminBundle\Admin\FriendGroupAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: friendgroup }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\FriendGroup, DodiciFansworldAdminBundle:FriendGroupAdmin]
    dodici.fansworld.adminbundle.admin.complaint:
        class: Dodici\Fansworld\AdminBundle\Admin\ComplaintAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: complaint }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Complaint, DodiciFansworldAdminBundle:ComplaintAdmin]
    dodici.fansworld.adminbundle.admin.complaintcategory:
        class: Dodici\Fansworld\AdminBundle\Admin\ComplaintCategoryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: complaintcategory }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\ComplaintCategory, DodiciFansworldAdminBundle:ComplaintCategoryAdmin]
    dodici.fansworld.adminbundle.admin.hasinterest:
        class: Dodici\Fansworld\AdminBundle\Admin\HasInterestAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: hasinterest }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\HasInterest, DodiciFansworldAdminBundle:HasInterestAdmin]
    dodici.fansworld.adminbundle.admin.tag:
        class: Dodici\Fansworld\AdminBundle\Admin\TagAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: tag }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Tag, DodiciFansworldAdminBundle:TagAdmin]
    dodici.fansworld.adminbundle.admin.hastag:
        class: Dodici\Fansworld\AdminBundle\Admin\HasTagAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: hastag }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\HasTag, DodiciFansworldAdminBundle:HasTagAdmin]
    dodici.fansworld.adminbundle.admin.hasuser:
        class: Dodici\Fansworld\AdminBundle\Admin\HasUserAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: hasuser }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\HasUser, DodiciFansworldAdminBundle:HasUserAdmin]
    dodici.fansworld.adminbundle.admin.team:
        class: Dodici\Fansworld\AdminBundle\Admin\TeamAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: team }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Team, DodiciFansworldAdminBundle:TeamAdmin]
    dodici.fansworld.adminbundle.admin.teamcategory:
        class: Dodici\Fansworld\AdminBundle\Admin\TeamCategoryAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: teamcategory }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\TeamCategory, DodiciFansworldAdminBundle:TeamCategoryAdmin]
    dodici.fansworld.adminbundle.admin.idolcareer:
        class: Dodici\Fansworld\AdminBundle\Admin\IdolCareerAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: idolcareer }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\IdolCareer, DodiciFansworldAdminBundle:IdolCareerAdmin]
    dodici.fansworld.adminbundle.admin.hasteam:
        class: Dodici\Fansworld\AdminBundle\Admin\HasTeamAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: hasteam }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\HasTeam, DodiciFansworldAdminBundle:HasTeamAdmin]
    dodici.fansworld.adminbundle.admin.teamship:
        class: Dodici\Fansworld\AdminBundle\Admin\TeamshipAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: teamship }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Teamship, DodiciFansworldAdminBundle:TeamshipAdmin]
    dodici.fansworld.adminbundle.admin.sport:
        class: Dodici\Fansworld\AdminBundle\Admin\SportAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: sport }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Sport, DodiciFansworldAdminBundle:SportAdmin]
    dodici.fansworld.adminbundle.admin.event:
        class: Dodici\Fansworld\AdminBundle\Admin\EventAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: event }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Event, DodiciFansworldAdminBundle:EventAdmin]
    dodici.fansworld.adminbundle.admin.eventship:
        class: Dodici\Fansworld\AdminBundle\Admin\EventshipAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: eventship }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Eventship, DodiciFansworldAdminBundle:EventshipAdmin]
    dodici.fansworld.adminbundle.admin.meeting:
        class: Dodici\Fansworld\AdminBundle\Admin\MeetingAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: meeting }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Meeting, DodiciFansworldAdminBundle:MeetingAdmin]
    dodici.fansworld.adminbundle.admin.meetingship:
        class: Dodici\Fansworld\AdminBundle\Admin\MeetingshipAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: meetingship }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Meetingship, DodiciFansworldAdminBundle:MeetingshipAdmin]
    dodici.fansworld.adminbundle.admin.proposal:
        class: Dodici\Fansworld\AdminBundle\Admin\ProposalAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: proposal }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Proposal, DodiciFansworldAdminBundle:ProposalAdmin]
    dodici.fansworld.adminbundle.admin.badge:
        class: Dodici\Fansworld\AdminBundle\Admin\BadgeAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: badge }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\Badge, DodiciFansworldAdminBundle:BadgeAdmin]
    dodici.fansworld.adminbundle.admin.badgestep:
        class: Dodici\Fansworld\AdminBundle\Admin\BadgeStepAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: badgestep }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\BadgeStep, DodiciFansworldAdminBundle:BadgeStepAdmin]
    dodici.fansworld.adminbundle.admin.quizquestion:
        class: Dodici\Fansworld\AdminBundle\Admin\QuizQuestionAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: quizquestion }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\QuizQuestion, DodiciFansworldAdminBundle:QuizQuestionAdmin]
    dodici.fansworld.adminbundle.admin.quizoption:
        class: Dodici\Fansworld\AdminBundle\Admin\QuizOptionAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: quizoption }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\QuizOption, DodiciFansworldAdminBundle:QuizOptionAdmin]
    dodici.fansworld.adminbundle.admin.quizanswer:
        class: Dodici\Fansworld\AdminBundle\Admin\QuizAnswerAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: quizanswer }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\QuizAnswer, DodiciFansworldAdminBundle:QuizAnswerAdmin]
    dodici.fansworld.adminbundle.admin.homevideo:
        class: Dodici\Fansworld\AdminBundle\Admin\HomeVideoAdmin
        tags:
            - { name: sonata.admin, manager_type: orm, group: dodicifansworldadminbundle, label: homevideo }
        arguments: [null, Dodici\Fansworld\WebBundle\Entity\HomeVideo, DodiciFansworldAdminBundle:HomeVideoAdmin]
    ### END ADMIN SERVICES ###
    liking.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\LikingCountUpdater
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    liking.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\LikingCountUpdater
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    tag.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\TagUpdater
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    tag.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\TagUpdater
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    notificator.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\Notificator
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    notificator.listener.update:
        class: Dodici\Fansworld\WebBundle\Listener\Notificator
        tags:
            - { name: doctrine.event_listener, event: postUpdate }
    score.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\ScoreHandler
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    score.listener.update:
        class: Dodici\Fansworld\WebBundle\Listener\ScoreHandler
        tags:
            - { name: doctrine.event_listener, event: postUpdate }
    score.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\ScoreHandler
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    comment.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\CommentCountUpdater
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    comment.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\CommentCountUpdater
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    album.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\AlbumImageSetter
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    album.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\AlbumImageSetter
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    album.listener.update:
        class: Dodici\Fansworld\WebBundle\Listener\AlbumImageSetter
        tags:
            - { name: doctrine.event_listener, event: postUpdate }
    event.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\EventUpdater
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    event.listener.remove:
        class: Dodici\Fansworld\WebBundle\Listener\EventUpdater
        tags:
            - { name: doctrine.event_listener, event: postRemove }
    opinionvote.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\OpinionCountUpdater
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    notification.listener.mailer:
        class: Dodici\Fansworld\WebBundle\Listener\NotificationMailer
        tags:
            - { name: doctrine.event_listener, event: postPersist }
        arguments:
            - "@service_container"
    meteor.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\MeteorPusher
        tags:
            - { name: doctrine.event_listener, event: postPersist }
        arguments:
            - "@service_container"
    badge.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\BadgeGiver
        tags:
            - { name: doctrine.event_listener, event: postPersist }
    twitteractivity.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\TwitterActivity
        tags:
            - { name: doctrine.event_listener, event: postPersist }
        arguments:
            - "@service_container"
    facebookactivity.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\FacebookActivity
        tags:
            - { name: doctrine.event_listener, event: postPersist }
        arguments:
            - "@service_container"
    usercounter.listener.persist:
        class: Dodici\Fansworld\WebBundle\Listener\UserCounter
        tags:
            - { name: doctrine.event_listener, event: postPersist }
        arguments:
            - "@service_container"        
    my.facebook.user:
        class: Dodici\Fansworld\WebBundle\Security\FacebookProvider
        arguments:
            facebook: "@fos_facebook.api"
            userManager: "@app_user.user_manager"
            validator: "@validator"
            container: "@service_container"
    appstate:
      class: Dodici\Fansworld\WebBundle\Extensions\AppState
      arguments: [@security.context, @doctrine.orm.entity_manager]
    app.facebook:
      class: Dodici\Fansworld\WebBundle\Extensions\AppFacebook
      arguments: [@security.context, @doctrine.orm.entity_manager, @fos_facebook.api, @appstate, @router, @translator]
    app.twitter:
      class: Dodici\Fansworld\WebBundle\Extensions\AppTwitter
      arguments: [@security.context, @doctrine.orm.entity_manager, @fos_twitter.api, @appstate, @router, @translator]  
    fansworldmailer:
      class: Dodici\Fansworld\WebBundle\Extensions\FansworldMailer
      arguments: [@mailer, @templating,@security.context, @translator]  
    search:
      class: Dodici\Fansworld\WebBundle\Extensions\Search
      arguments: [@security.context, @doctrine.orm.entity_manager, @router, @appstate]
    
    meteor:
      class: Dodici\Fansworld\WebBundle\Extensions\Meteor
      arguments: [@doctrine.orm.entity_manager, @appstate, %meteor.host%, %meteor.port%, %meteor.clientport%]
    tagger:
      class: Dodici\Fansworld\WebBundle\Extensions\Tagger
      arguments: [@doctrine.orm.entity_manager, @appstate]
    sharer:
      class: Dodici\Fansworld\WebBundle\Extensions\Sharer
      arguments: [@doctrine.orm.entity_manager, @appstate]
    commenter:
      class: Dodici\Fansworld\WebBundle\Extensions\Commenter
      arguments: [@doctrine.orm.entity_manager, @appstate]
    complainer:
      class: Dodici\Fansworld\WebBundle\Extensions\Complainer
      arguments: [@doctrine.orm.entity_manager, @appstate]
    visitator:
      class: Dodici\Fansworld\WebBundle\Extensions\Visitator
      arguments: [@security.context, @doctrine.orm.entity_manager, @session, @appstate]
    preferences:
      class: Dodici\Fansworld\WebBundle\Extensions\Preferences
      arguments: [@security.context, @doctrine.orm.entity_manager, @session, @appstate]
    video.playlist:
      class: Dodici\Fansworld\WebBundle\Extensions\VideoPlaylist
      arguments: [@security.context, @doctrine.orm.entity_manager, @appstate]
    video.uploader:
      class: Dodici\Fansworld\WebBundle\Extensions\VideoUploader
      arguments: [@doctrine.orm.entity_manager, @flumotion.api.request, @flumotion.ftp, @appmedia, @security.context, %kernel.root_dir%/../web/uploads/videos]
    feeder.event:
      class: Dodici\Fansworld\WebBundle\Feeder\EventFeeder
      arguments: [@doctrine.orm.entity_manager, @datafactory]
    user.location:
      class: Dodici\Fansworld\WebBundle\Extensions\UserLocation
      arguments: [@doctrine.orm.entity_manager]
    contact.importer:
      class: Dodici\Fansworld\WebBundle\Extensions\ContactImporter
      arguments: [@service_container]
    twig.extension.appstate:
      class: Dodici\Fansworld\WebBundle\Extensions\AppStateExtension
      arguments: [@appstate]
      tags:
          - { name: twig.extension }
    twig.extension.search:
      class: Dodici\Fansworld\WebBundle\Extensions\SearchExtension
      arguments: [@search]
      tags:
          - { name: twig.extension }
    twig.extension.meteor:
      class: Dodici\Fansworld\WebBundle\Extensions\MeteorExtension
      arguments: [@meteor]
      tags:
          - { name: twig.extension }
    twig.extension.preferences:
      class: Dodici\Fansworld\WebBundle\Extensions\PreferencesExtension
      arguments: [@preferences]
      tags:
          - { name: twig.extension }
    twig.extension.text:
      class: Twig_Extensions_Extension_Text
      tags:
          - { name: twig.extension }
    appmedia:
      class: Dodici\Fansworld\WebBundle\Extensions\AppMedia
      arguments: [@sonata.media.pool, @sonata.media.manager.media]
    twig.extension.appmedia:
      class: Dodici\Fansworld\WebBundle\Extensions\AppMediaExtension
      arguments: [@appmedia]
      tags:
          - { name: twig.extension }
    app_user.registration.form.type:
        class: Application\Sonata\UserBundle\Form\Type\RegistrationFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: app_user_registration }
    app_user.profile.form.type:
        class: Application\Sonata\UserBundle\Form\Type\ProfileFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: app_user_profile }
    app_user.user_manager:
        class: Application\Sonata\UserBundle\Entity\UserManager
        public: false
        arguments: [@security.encoder_factory, @fos_user.util.username_canonicalizer, @fos_user.util.email_canonicalizer, @fos_user.entity_manager, %fos_user.model.user.class%]